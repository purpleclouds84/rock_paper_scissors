<!DOCTYPE html>
<html>
<head>		
	<title>Rock Paper Scissors</title>
	<meta charset="utf-8">
</head>
<body>
		
	<script>
		function computerPlay() {
			const options = ['rock', 'paper', 'scissors'];
			const randomOption = Math.floor(Math.random()*3);
			return options[randomOption];
		}

		function playRound(playerSelection,computerSelection) {

			if (playerSelection === computerSelection) {
				return 'draw';
			}

			switch (playerSelection) {
				case 'rock': {
					if (computerSelection == 'scissors') {
						return 'wins';
					} else if (computerSelection == 'paper') {
						return 'lose';
					}; 
					break;
				}
				case 'scissors': {
					if (computerSelection == 'paper') {
						return 'wins';
					} else if (computerSelection == 'rock') {
						return 'lose';
					};
					break;
				} 
				case 'paper': {
					if (computerSelection == 'rock') {
						return 'wins'
					} else if (computerSelection == 'scissors') {
						return 'lose';
					};
					break;
				}
			} 
    }

			let game = (rounds) => {
				let playerWins = 0;
				let computerWins = 0;
				for (let i = 0; i < rounds; i++) {
					const playerSelection = userInput();
					const computerSelection = computerPlay();
					let round = playRound(playerSelection, computerSelection);
					
					if (round == 'wins') {
						console.log('You win this round, ' + playerSelection + ' beats ' + computerSelection + '!');
						playerWins++;
					} else if (round == 'lose') {
						console.log('You lose this round, ' + computerSelection + ' beats ' + playerSelection + '!');
						computerWins++;
					} else {
						console.log('You and the computer tied at ' + playerWins + ' points!');
					}
				}
				if (playerWins > computerWins) {
					console.log('Congratulations! You won over the computer with the score ' + playerWins + ' to ' + computerWins + '!');
				} else if (playerWins < computerWins) {
						console.log('Oh no! You lost with the score ' + playerWins + ' to ' + computerWins + '!');
				} else {
					console.log('Looks like there is no winner this time! You tied with the computer at ' + playerWins + ' points!');
				} 
			}

			let userInput = () => {
				let answer = prompt('Rock, Paper, Scissors?');
				answer = answer.toLowerCase();
				while (!(answer == 'rock' || answer == 'paper' || answer == 'scissors')) {
					answer = prompt('Please type either Rock, Paper or Scissors!');
					answer = answer.toLowerCase();
				}
				return answer;
			}
	</script>


</body>
</html>